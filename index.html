<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1.0"><title>Digitalizaci贸n</title><script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script><style>:root{--bg:#f3f3f3;--cd:#fff;--bl:#3B8ED0;--tx:#2b2b2b;--gr:#666}body{font-family:'Segoe UI',Tahoma,sans-serif;background-color:var(--bg);color:var(--tx);margin:0;padding:20px;display:flex;flex-direction:column;align-items:center;height:100vh;box-sizing:border-box}.container{width:100%;max-width:1200px}h1{margin:0;font-size:28px;font-weight:700}.subtitle{color:var(--gr);font-size:14px;margin-bottom:20px}.controls-card{background:var(--cd);padding:20px;border-radius:10px;box-shadow:0 4px 6px #0000000d;display:flex;gap:40px;margin-bottom:20px;justify-content:center}.slider-group{flex:1;text-align:center;max-width:400px}.slider-label{font-size:16px;margin-bottom:10px;display:block;font-weight:500}input[type=range]{width:100%;height:6px;background:#d3d3d3;outline:0;opacity:.8;border-radius:5px;-webkit-appearance:none}input[type=range]:hover{opacity:1}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:var(--bl);cursor:pointer}.tabs{display:flex;gap:5px;background:#e0e0e0;padding:5px;border-radius:8px 8px 0 0;width:fit-content}.tab-btn{background:0 0;border:none;padding:8px 20px;font-size:14px;cursor:pointer;border-radius:6px;color:#555;font-weight:600;transition:.3s}.tab-btn.active{background:var(--cd);color:var(--bl);box-shadow:0 2px 4px #0000001a}.chart-container{background:var(--cd);padding:20px;border-radius:0 10px 10px 10px;box-shadow:0 4px 6px #0000000d;height:550px;position:relative}.chart-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.view-btn{background:var(--bl);color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:12px;margin-left:5px}.view-btn:hover{opacity:.9}</style></head><body><div class="container"><h1>Simulador de Digitalizaci贸n</h1><div class="subtitle">Ajuste los par谩metros para ver el resultado.</div><div class="controls-card"><div class="slider-group"><span id="lblFreq" class="slider-label">Freq: 10</span><input type="range" id="freqInput" min="2" max="100" value="10" oninput="upd()"></div><div class="slider-group"><span id="lblBits" class="slider-label">Bits: 4</span><input type="range" id="bitInput" min="2" max="16" value="4" oninput="upd()"></div></div><div class="tabs"><button class="tab-btn active" onclick="swTab('superposition')" id="btn-superposition">General</button><button class="tab-btn" onclick="swTab('sampling')" id="btn-sampling" style="display:none">Muestreo</button><button class="tab-btn" onclick="swTab('quantized')" id="btn-quantized" style="display:none">Cuantizaci贸n</button></div><div class="chart-container"><div class="chart-header"><h3 id="chartTitle" style="margin:0;font-weight:600;font-size:18px">Superposici贸n</h3><div id="subButtons"><button class="view-btn" onclick="acSub('sampling')"> Muestreo</button><button class="view-btn" onclick="acSub('quantized')"> Cuantizaci贸n</button></div></div><div id="plt" style="width:100%;height:90%"></div></div></div><script>let act='superposition';document.addEventListener("DOMContentLoaded",()=>{upd()});function acSub(t){document.getElementById('btn-'+t).style.display="block";swTab(t)}function swTab(t){act=t;document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));document.getElementById('btn-'+t).classList.add('active');const m={"superposition":"Superposici贸n","sampling":"Muestreo","quantized":"Cuantizaci贸n"};document.getElementById('chartTitle').innerText=m[t];document.getElementById('subButtons').style.display=(t==='superposition')?'block':'none';cal()}function upd(){const f=parseInt(document.getElementById('freqInput').value);const b=parseInt(document.getElementById('bitInput').value);document.getElementById('lblFreq').innerText=`Freq: ${f} Muestras`;document.getElementById('lblBits').innerText=`Resoluci贸n: ${b} bits`;cal()}function lsp(s,e,n,ep=true){const a=[],st=(e-s)/(ep?n-1:n);for(let i=0;i<n;i++)a.push(s+i*st);return a}function cal(){const F=parseInt(document.getElementById('freqInput').value),B=parseInt(document.getElementById('bitInput').value),L=Math.pow(2,B);const ta=lsp(0,1,400),ya=ta.map(t=>0.95*Math.sin(2*Math.PI*t+Math.PI/4));let ts=[];if(F>0){const r=lsp(0,1,F,false),o=1/(2*F);ts=r.map(t=>t+o)}const ys=ts.map(t=>0.95*Math.sin(2*Math.PI*t+Math.PI/4)),lv=lsp(-1,1,L),yd=ys.map(s=>{let m=Infinity,n=0;for(let l of lv){const d=Math.abs(l-s);if(d<m){m=d;n=l}}return n});dr(ta,ya,ts,ys,ts,yd,lv)}function dr(ta,ya,ts,ys,td,yd,lv){const lay={autosize:true,paper_bgcolor:'rgba(0,0,0,0)',plot_bgcolor:'rgba(0,0,0,0)',margin:{l:50,r:20,t:30,b:40},xaxis:{range:[-0.05,1.05],title:'Tiempo',showgrid:true,gridcolor:'#eee',zeroline:false},yaxis:{range:[-1.2,1.2],title:'Amplitud',tickvals:[-1,0,1],showgrid:true,gridcolor:'#eee',zeroline:false},showlegend:true,legend:{x:1,xanchor:'right',y:1},shapes:[]};if(lv.length<=64)lv.forEach(l=>{lay.shapes.push({type:'line',x0:-0.05,x1:1.05,y0:l,y1:l,line:{color:'#ccc',width:1,dash:'dot'}})});let tr=[];if(act==='superposition'||act==='sampling')tr.push({x:ta,y:ya,mode:'lines',name:'Anal贸gica',line:{color:'#2980b9',width:2}});if(act==='superposition'||act==='sampling'){tr.push({x:ts,y:ys,mode:'markers',name:'Muestras',marker:{color:'#27ae60',size:8}});ts.forEach((t,i)=>{lay.shapes.push({type:'line',x0:t,x1:t,y0:0,y1:ys[i],line:{color:'#27ae60',width:2}})});if(act==='superposition')tr.push({x:td,y:yd,mode:'lines',name:'Digital',line:{shape:'hv',color:'#c0392b',width:2,dash:'dashdot'}})}else if(act==='quantized'){tr.push({x:td,y:yd,mode:'markers',name:'Digital',marker:{color:'#c0392b',size:8}});td.forEach((t,i)=>{lay.shapes.push({type:'line',x0:t,x1:t,y0:0,y1:yd[i],line:{color:'#c0392b',width:2}})});lay.shapes.push({type:'line',x0:-0.05,x1:1.05,y0:0,y1:0,line:{color:'#000',width:1}})}else{lay.shapes.push({type:'line',x0:-0.05,x1:1.05,y0:0,y1:0,line:{color:'#000',width:1}})}if(act!=='quantized')lay.shapes.push({type:'line',x0:-0.05,x1:1.05,y0:0,y1:0,line:{color:'#000',width:1}});Plotly.newPlot('plt',tr,lay,{responsive:true,displayModeBar:false})}</script></body></html>